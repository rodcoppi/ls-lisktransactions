name: Daily Cache Update

  on:
    schedule:
      # Runs at 00:05 UTC every day (5 minutes after midnight)
      - cron: '5 0 * * *'
    workflow_dispatch: # Allows manual triggering for testing

  jobs:
    update-cache:
      runs-on: ubuntu-latest

      steps:
        - name: ğŸ”„ Trigger Daily Cache Update
          run: |
            echo "ğŸš€ Starting daily cache update for LuckySea Analytics..."
            echo "â° Scheduled time: $(date -u)"

            response=$(curl -s -w "%{http_code}" \
              -X POST \
              -H "Authorization: Bearer ${{ secrets.AUTO_UPDATE_TOKEN }}" \
              -H "Content-Type: application/json" \
              https://luckysea-lisk-analytics.vercel.app/api/auto-update)

            http_code="${response: -3}"
            response_body="${response%???}"

            echo "ğŸ“¡ HTTP Status: $http_code"
            echo "ğŸ“‹ Response: $response_body"

            if [ "$http_code" = "200" ]; then
              echo "âœ… Daily cache update completed successfully!"
            else
              echo "âŒ Daily cache update failed with status $http_code"
              echo "Response: $response_body"
              exit 1
            fi

        - name: ğŸ“Š Log Update Summary
          run: |
            echo "ğŸ“ˆ LuckySea Analytics Cache Update Summary"
            echo "========================================="
            echo "ğŸ• Execution Time: $(date -u)"
            echo "ğŸŒ Timezone: UTC"
            echo "ğŸ¯ Target: LuckySea Lisk Contract Analytics"
            echo "ğŸ”— Dashboard: https://luckysea-lisk-analytics.vercel.app"
            echo "âœ¨ Next update: Tomorrow at 00:05 UTC"

  ğŸ“ PASSOS:
  1. GitHub â†’ Actions â†’ New workflow â†’ set up a workflow yourself
  2. Cole o cÃ³digo acima
  3. Salve como daily-update.yml
  4. Commit
  5. Teste com "Run workflow"

  O domÃ­nio .vercel.app Ã© o correto e permanente! ğŸ¯

> cara asgora ja criei esse: name: Daily Cache Update

    on:
      schedule:
        # Runs at 00:05 UTC every day (5 minutes after midnight)
        - cron: '5 0 * * *'
      workflow_dispatch: # Allows manual triggering for testing

    jobs:
      update-cache:
        runs-on: ubuntu-latest

        steps:
          - name: ğŸ”„ Trigger Daily Cache Update
            run: |
              echo "ğŸš€ Starting daily cache update for LuckySea Analytics..."
              echo "â° Scheduled time: $(date -u)"

              response=$(curl -s -w "%{http_code}" \
                -X POST \
                -H "Authorization: Bearer ${{ secrets.AUTO_UPDATE_TOKEN }}" \
                -H "Content-Type: application/json" \
                https://luckysea-lisk-analytics-kca5sbrrx-rodcoppis-projects.vercel.app/api/auto-update)

              http_code="${response: -3}"
              response_body="${response%???}"

              echo "ğŸ“¡ HTTP Status: $http_code"
              echo "ğŸ“‹ Response: $response_body"

              if [ "$http_code" = "200" ]; then
                echo "âœ… Daily cache update completed successfully!"
              else
                echo "âŒ Daily cache update failed with status $http_code"
                echo "Response: $response_body"
                exit 1
              fi

          - name: ğŸ“Š Log Update Summary
            run: |
              echo "ğŸ“ˆ LuckySea Analytics Cache Update Summary"
              echo "========================================="
              echo "ğŸ• Execution Time: $(date -u)"
              echo "ğŸŒ Timezone: UTC"
              echo "ğŸ¯ Target: LuckySea Lisk Contract Analytics"
              echo "ğŸ”— Dashboard: https://luckysea-lisk-analytics-kca5sbrrx-rodcoppis-projects.vercel.app"
              echo "âœ¨ Next update: Tomorrow at 00:05 UTC"
